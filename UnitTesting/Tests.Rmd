---
title: "Proposal Tests"
author: "Laura Tomkins"
date: "March 2018"
output: html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(cache = TRUE, echo = TRUE, include = TRUE)
```

# Overview of project

The main goal of this project is to explore the environmental condtions of clearing events in Stratocumulus clouds over the Southeast Atlantic Ocean. This project will download reanalysis data from online, read in this data, find the correct fields to plot, and then plot said fields. Possible variables that will be examined includes pressure, potential temperature, wind, etc. 

# Function testing

The first function `ei_download` downloads European Reanalysis Interim (ERA-Interim) data from the European Centre for Medium-Range Weather Forecats (ECMWF) given desired dates for data and the file name for where the data is to be stored. The test for this data is not very thorough, it only tests if the data file exists. Please note that the functions used in the script below are provided by the ECMWF as they have created a nice Web-API package for Python users.

```{python get_data test}
import os
startdate = '2016-05-25'
enddate = '2016-05-27'
date_str = startdate+'/to/'+enddate
data_path = 'interim_'+startdate+'to'+enddate+'.nc'

execfile('ei_download.py')

dir_path = "C:\\Users\\Laura\\Documents\\EVRN720\\tomkins_dcei\\UnitTesting\\"
filename = "interim_"+startdate+"to"+enddate+".nc"
full_path = dir_path+filename

if os.path.exists(full_path):
  print('get_data test passed')
else:
  print('get data test failed')

```

The second function will be `get_variable` which extracts a certain variable from the data file obtained from ei_download.. Probable syntax: `var_data <- get_variable(data_file, variable)`. A test will be completed to check that the data frame is non-empty and has data which makes sense.

```{python get_variable test}
import get_variable as gv
test_var = get_variable.gv(full_path, "z")

if test_var in locals():
  print('get_variable test passed')
else:
  print('get_variable test failed')

```

The third function will be `plot_variable` which will plot the variables obtained in `get_variable`. Probable syntax: `plot <- plot_variable(variable, latitude_lims, longitude_lims)`. Most of the plots are likly to be spatial, hence the usage of latitude and longitude limits. Unsure of ways to test as present moment.

```{r plot_variable test}
plot <- plot_variable(variable, latitude_lims, longitude_lims)
if (exits(plot)){
  paste0('plot_variable test passsed')
} else{
  pasteo('plot_variable test failed')
}
```

More functions are likely to be added in the process and current functions are likely to be edited/re-designed.




